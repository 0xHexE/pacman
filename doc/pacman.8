." the string declarations are a start to try and make distro independent
.ds DS Arch Linux
.ds PB PKGBUILD
.ds VR 3.0.0
.ds LV 1.0.0
.TH pacman 8 "Feb 07, 2007" "pacman version \*(VR" "\*(DS Utilities"
.SH NAME
pacman \- package manager utility

.SH SYNOPSIS
.B pacman
<\fIoperation\fR> [\fIoptions\fR] [\fIpackages\fR]

.SH DESCRIPTION
\fBpacman\fP is a \fIpackage management\fP utility that tracks installed
packages on a Linux system. It has dependency support, package groups, install
and uninstall hooks, and the ability to sync your local machine with a remote
ftp server to automatically upgrade packages.  \fBpacman\fP packages are a
zipped tar format.

.SH OPERATIONS
.TP
.B \-A, --add (deprecated)
Add a package to the system. Package will be uncompressed into the installation
root and the database will be updated. The package will not be installed if
another version is already installed. Please use \fB--upgrade\fP in place of
this option.
.TP
.B \-F, --freshen
This is like \fB--upgrade\fP except it will only upgrade packages already
installed on the system.
.TP
.B \-Q, --query
Query the package database. This operation allows you to view installed
packages and their files, as well as meta-info about individual packages
(dependencies, conflicts, install date, build date, size). This can be run
against the local package database or can be used on individual .tar.gz
packages. See \fBQUERY OPTIONS\fP below.
.TP
.B \-R, --remove
Remove a package from the system.  Files belonging to the specified package
will be deleted, and the database will be updated.  Most configuration files
will be saved with a \fI.pacsave\fP extension unless the \fB--nosave\fP option
is used. See \fBREMOVE OPTIONS\fP below.
.TP
.B \-S, --sync
Synchronize packages. Packages are installed directly from the ftp servers,
complete with all dependencies required to run the packages.  For example,
\fBpacman -S qt\fP will download and install \fBqt\fP and all the packages it
depends on. You can also use \fBpacman -Su\fP to upgrade all packages that are
out of date. See \fBSYNC OPTIONS\fP below.
.TP
.B \-U, --upgrade
Upgrade or add a package to the system. This is a "remove-then-add" process.
See \fBHANDLING CONFIG FILES\fP for an explanation on how pacman takes care of
config files.
.TP
.B \-V, --version
Display version and exit.
.TP
.B \-h, --help
Display syntax for the given operation. If no operation was supplied then the
general syntax is shown.

.SH OPTIONS
.TP
.B \-d, --nodeps
Skips all dependency checks. Normally, pacman will always check a package's
dependency fields to ensure that all dependencies are installed and there are
no package conflicts in the system.
.TP
.B \-f, --force
Bypass file conflict checks and overwrite conflicting files. If the package
that is about to be installed contains files that are already installed, this
option will cause all those files to be overwritten.  This option should be
used with care, ideally not at all.
.TP
.B \-r, --root \fIpath\fP
Specify alternative installation root (default is "/"). However, this should
\fInot\fP be used as a way to install software into /usr/local instead of /usr,
for example. This option should be used if you want to install a package on a
temporary mounted partition, which is "owned" by another system. By using this
option you not only specify where the software should be installed, but you
also specify which package database to use.
.TP
.B \-v, --verbose
Output more status messages, such as the Root and DBPath.
.TP
.B \--config \fIfilepath\fP
Specify an alternate configuration file.
.TP
.B \--noconfirm
Bypass any and all "Are you sure?" messages. It's not a good idea to do this
unless you want to run pacman from a script.
.TP
.B \--noprogressbar
Do not show a progress bar when downloading files. This can be useful for
scripts that call pacman and capture the output.

.SH QUERY OPTIONS
.TP
.B \-e, --orphans
List all packages that were pulled in by a previously installed package but no
longer required by any installed package.
.TP
.B \-g, --groups
Display all package members of a named group, or all grouped packages if
no name is specified.
.TP
.B \-i, --info
Display information on a given package. The \fB-p\fP option can be used if
querying a package file instead of the local database.
.TP
.B \-l, --list
List all files owned by a given package. Multiple packages can be specified on
the command line.
.TP
.B \-m, --foreign
List all packages that were not found in the sync database(s). Typically these
are packages that were downloaded manually and installed with \fB--upgrade\fP.
.TP
.B \-o, --owns \fIfile\fP
Search for the package that owns \fIfile\fP.
.TP
.B \-p, --file
Signifies that the package supplied on the command line is a file and not an
entry in the database. The file will be decompressed and queried. This is
useful with \fB--info\fP and \fB--list\fP.
.TP
.B \-s, --search \fIregexp\fP
This will search each locally-installed package for names or descriptions that
matche \fIregexp\fP.
.TP
.B \-u, --upgrades
Lists all packages that are out of date on the local system. This option works
best if the sync database is refreshed using \fB-Sy\fP.

.SH REMOVE OPTIONS
.TP
.B \-c, --cascade
Remove all target packages, as well as all packages that depend on one or more
target packages. This operation is recursive.
.TP
.B \-k, --keep
Removes the database entry only. Leaves all files in place.
.TP
.B \-n, --nosave
Instructs pacman to ignore file backup designations.  Normally, when a file is
removed from the system the database is checked to see if the file should be
renamed with a .pacsave extension.
.TP
.B \-s, --recursive
For each target specified, remove it and all its dependencies, provided that
(A) they are not required by other packages; and (B) they were not explicitly
installed by the user.  This option is analogous to a backwards \fB--sync\fP
operation.

.SH SYNC OPTIONS
.TP
.B \-c, --clean
Remove old packages from the cache to free up disk space. When \fBpacman\fP
downloads packages, it saves them in \fI/var/cache/pacman/pkg\fP. Use one
\fB--clean\fP switch to remove \fIold\fP packages; use two to remove \fIall\fP
packages from the cache.
.TP
.B \-g, --groups
Display all the members for each package group specified. If no group names are
provided, all groups will be listed.
.TP
.B \-i, --info
Display dependency and other information for a given package. This will search
through all repositories for a matching package.
.TP
.B \-l, --list
List all packages in the specified repositories. Multiple repositories can be
specified on the command line.
.TP
.B \-p, --print-uris
Print out URIs for each package that will be installed, including any
dependencies that have yet to be installed. These can be piped to a file and
downloaded at a later time, using a program like wget.
.TP
.B \-s, --search \fIregexp\fP
This will search each package in the sync databases for names or descriptions
that match \fIregexp\fP.
.TP
.B \-u, --sysupgrade
Upgrades all packages that are out of date. Each currently-installed package
will be examined and upgraded if a newer package exists. A report of all
packages to upgrade will be presented and the operation will not proceed
without user confirmation. Dependencies are automatically resolved at this
level and will be installed/upgraded if necessary.
.TP
.B \-w, --downloadonly
Retrieve all packages from the server, but do not install/upgrade anything.
.TP
.B \-y, --refresh
Download a fresh copy of the master package list from the server(s) defined in
\fBpacman.conf\fP.  This should typically be used each time you use
\fB--sysupgrade\fP.
.TP
.B \--ignore \fIpackage\fP
Directs \fBpacman\fP to ignore upgrades of \fIpackage\fP even if there is one
available.

.SH HANDLING CONFIG FILES
pacman uses the same logic as rpm to determine action against files that are
designated to be backed up. During an upgrade, 3 md5 hashes are used for each
backup file to determine the required action: one for the original file
installed, one for the new file that's about to be installed, and one for the
actual file existing on the filesystem. After comparing these 3 hashes, the
follow scenarios can result:
.TP
original=\fBX\fP, current=\fBX\fP, new=\fBX\fP
All three files are the same, so overwrites are not an issue Install the new
file.
.TP
original=\fBX\fP, current=\fBX\fP, new=\fBY\fP
The current file is the same as the original but the new one differs.  Since
the user did not ever modify the file, and the new one may contain improvements
or bugfixes, install the new file.
.TP
original=\fBX\fP, current=\fBY\fP, new=\fBX\fP
Both package versions contain the exact same file, but the one on the
filesystem has been modified. Leave the current file in place.
.TP
original=\fBX\fP, current=\fBY\fP, new=\fBY\fP
The new file is identical to the current file. Install the new file.
.TP
original=\fBX\fP, current=\fBY\fP, new=\fBZ\fP
All three files are different, so install the new file with a .pacnew extension
and warn the user. The user must then manually merge any necessary changes into
the original file.

.SH CONFIGURATION
See
.BR pacman.conf (5)
for more details on configuring \fBpacman\fP using the \fBpacman.conf\fP file.

.SH BUGS
Bugs? You must be kidding, there are no bugs in this software. But if we happen
to be wrong, send us an email with as much detail as possible to
<pacman-dev@archlinux.org>.

.SH SEE ALSO
.BR pacman.conf (5),
.BR makepkg (8),
.BR libalpm (3)

See the Arch Linux website at <http://www.archlinux.org> for more current
information on the distribution and the \fBpacman\fP family of tools.

.SH AUTHORS
.nf
Judd Vinet <jvinet@zeroflux.org>
Aurelien Foret <aurelien@archlinux.org>
Aaron Griffin <aaron@archlinux.org>
Dan McGee <dan@archlinux.org>
See the 'AUTHORS' file for additional contributors.
.fi
